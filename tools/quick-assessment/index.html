<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CNAMM Quick Assessment</title>
    <!-- Add Chart.js for visualizations -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            /* Match main site's more subdued colors */
            --primary: #2c6fad;
            --primary-light: #6095c9;
            --primary-dark: #1a4971;
            --secondary: #5b9a6f;
            --secondary-light: #80b594;
            --secondary-dark: #40704f;
            --background: #f9f9f9;
            --card: #ffffff;
            --text: #333333;
            --border: #e0e0e0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        h1, h2, h3 {
            color: var(--primary);
        }
        
        .assessment-intro {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .assessment-card {
            background-color: var(--card);
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .question-section {
            display: none;
        }
        
        .question-section.active {
            display: block;
        }
        
        .question {
            margin-bottom: 1.5rem;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .option {
            padding: 1rem;
            border: 1px solid var(--border);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .option:hover {
            background-color: rgba(44, 111, 173, 0.1);
        }
        
        .option.selected {
            background-color: var(--primary);
            color: white;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }
        
        button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s ease;
        }
        
        button:hover {
            background-color: var(--primary-dark);
        }
        
        button:disabled {
            background-color: #bbdefb;
            cursor: not-allowed;
        }
        
        .progress-bar {
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 2rem;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background-color: var(--primary);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .results-card {
            display: none;
            background-color: var(--card);
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
        }
        
        .results-heading {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .score-overview {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background-color: #f5f5f5;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .score-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        .score-label {
            font-size: 0.9rem;
            color: #757575;
        }
        
        .function-scores {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .function-score {
            background-color: #f5f5f5;
            padding: 1rem;
            border-radius: 4px;
            display: flex;
            flex-direction: column;
        }
        
        .function-name {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .function-bar {
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }
        
        .function-progress {
            height: 100%;
            background-color: var(--primary);
        }
        
        .next-steps {
            margin-top: 2rem;
            text-align: center;
        }
        
        .cta-button {
            background-color: var(--secondary);
            color: white;
            padding: 1rem 2rem;
            font-size: 1.1rem;
            margin-top: 1rem;
            display: inline-block;
            border-radius: 4px;
            text-decoration: none;
            font-weight: bold;
            transition: background-color 0.2s ease;
        }
        
        .cta-button:hover {
            background-color: var(--secondary-dark);
        }
        
        .return-link {
            display: block;
            text-align: center;
            margin-top: 2rem;
            color: var(--primary);
            text-decoration: none;
        }
        
        .return-link:hover {
            text-decoration: underline;
        }
        
        .business-function-title {
            color: var(--primary-dark);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="assessment-intro">
            <h1>CNAMM Quick Assessment</h1>
            <p>Evaluate your Cloud Native security maturity in 24 questions. This quick assessment will give you an overview of your organization's current state and identify key areas for improvement.</p>
            <p style="font-size: 0.9rem; color: #757575; margin-top: 0.5rem;">Your responses are collected anonymously to help improve the CNAMM framework.</p>
            <a href="../../" class="return-link">‚Üê Return to CNAMM Home</a>
        </div>
        
        <div class="progress-bar">
            <div class="progress" id="progress-bar"></div>
        </div>
        
        <div class="assessment-card" id="assessment-container">
            <!-- Business Function 1: Strategy and Risk Governance -->
            <div class="question-section active" data-section="1">
                <h2 class="business-function-title">1. Strategy and Risk Governance</h2>
                <div class="question">
                    <p>1.1 How would you describe your organization's Cloud Native security strategy?</p>
                    <div class="options">
                        <div class="option" data-value="1">No formal Cloud Native security strategy exists</div>
                        <div class="option" data-value="2">Basic security strategy that covers some Cloud Native aspects</div>
                        <div class="option" data-value="3">Documented strategy with clear security goals and metrics</div>
                        <div class="option" data-value="4">Comprehensive strategy with executive support and continuous improvement</div>
                    </div>
                </div>
                <div class="navigation">
                    <button disabled>Previous</button>
                    <button id="next-1">Next</button>
                </div>
            </div>
            
            <div class="question-section" data-section="2">
                <h2 class="business-function-title">1. Strategy and Risk Governance</h2>
                <div class="question">
                    <p>1.2 How does your organization assess and manage Cloud Native security risks?</p>
                    <div class="options">
                        <div class="option" data-value="1">No formal risk assessment process for Cloud Native</div>
                        <div class="option" data-value="2">Basic risk assessments conducted periodically</div>
                        <div class="option" data-value="3">Structured risk management with regular assessments and prioritization</div>
                        <div class="option" data-value="4">Comprehensive risk management integrated with business processes and supported by automation</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-2">Previous</button>
                    <button id="next-2">Next</button>
                </div>
            </div>
            
            <div class="question-section" data-section="3">
                <h2 class="business-function-title">1. Strategy and Risk Governance</h2>
                <div class="question">
                    <p>1.3 How mature is your Cloud Native security policy management?</p>
                    <div class="options">
                        <div class="option" data-value="1">Few or no specific Cloud Native security policies</div>
                        <div class="option" data-value="2">Basic policies exist but may not be enforced consistently</div>
                        <div class="option" data-value="3">Comprehensive policies with regular reviews and enforcement</div>
                        <div class="option" data-value="4">Policy-as-code approach with automated enforcement and compliance validation</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-3">Previous</button>
                    <button id="next-3">Next</button>
                </div>
            </div>
            
            <!-- Business Function 2: Supply Chain and Vendor Security -->
            <div class="question-section" data-section="4">
                <h2 class="business-function-title">2. Supply Chain and Vendor Security</h2>
                <div class="question">
                    <p>2.1 How does your organization secure its software supply chain?</p>
                    <div class="options">
                        <div class="option" data-value="1">No specific supply chain security controls</div>
                        <div class="option" data-value="2">Basic dependency scanning and vendor assessments</div>
                        <div class="option" data-value="3">Comprehensive supply chain security with SBOM and artifact verification</div>
                        <div class="option" data-value="4">Advanced supply chain security with continuous monitoring and automated validation</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-4">Previous</button>
                    <button id="next-4">Next</button>
                </div>
            </div>
            
            <div class="question-section" data-section="5">
                <h2 class="business-function-title">2. Supply Chain and Vendor Security</h2>
                <div class="question">
                    <p>2.2 How do you manage vulnerabilities in third-party dependencies?</p>
                    <div class="options">
                        <div class="option" data-value="1">Ad-hoc or no regular scanning</div>
                        <div class="option" data-value="2">Regular scanning but limited remediation processes</div>
                        <div class="option" data-value="3">Automated scanning with formal remediation processes</div>
                        <div class="option" data-value="4">Comprehensive dependency management with automatic updates and impact analysis</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-5">Previous</button>
                    <button id="next-5">Next</button>
                </div>
            </div>
            
            <div class="question-section" data-section="6">
                <h2 class="business-function-title">2. Supply Chain and Vendor Security</h2>
                <div class="question">
                    <p>2.3 How does your organization assess and manage risks from Cloud service providers?</p>
                    <div class="options">
                        <div class="option" data-value="1">No formal assessment of provider security</div>
                        <div class="option" data-value="2">Basic due diligence during provider selection</div>
                        <div class="option" data-value="3">Structured assessment with ongoing compliance monitoring</div>
                        <div class="option" data-value="4">Advanced provider risk management with defense-in-depth controls and continuous validation</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-6">Previous</button>
                    <button id="next-6">Next</button>
                </div>
            </div>
            
            <!-- Business Function 3: Infrastructure and Platform Security -->
            <div class="question-section" data-section="7">
                <h2 class="business-function-title">3. Infrastructure and Platform Security</h2>
                <div class="question">
                    <p>3.1 How mature is your cloud infrastructure security posture management?</p>
                    <div class="options">
                        <div class="option" data-value="1">No automated security posture assessment</div>
                        <div class="option" data-value="2">Basic cloud security scanning and monitoring</div>
                        <div class="option" data-value="3">Automated posture assessment with policy enforcement</div>
                        <div class="option" data-value="4">Comprehensive real-time posture management with automated remediation</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-7">Previous</button>
                    <button id="next-7">Next</button>
                </div>
            </div>
            
            <div class="question-section" data-section="8">
                <h2 class="business-function-title">3. Infrastructure and Platform Security</h2>
                <div class="question">
                    <p>3.2 How do you secure your container orchestration platforms?</p>
                    <div class="options">
                        <div class="option" data-value="1">Default configurations with minimal hardening</div>
                        <div class="option" data-value="2">Basic platform hardening with some security controls</div>
                        <div class="option" data-value="3">Comprehensive hardening with advanced security features enabled</div>
                        <div class="option" data-value="4">Defense-in-depth security model with continuous validation and enforcement</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-8">Previous</button>
                    <button id="next-8">Next</button>
                </div>
            </div>
            
            <div class="question-section" data-section="9">
                <h2 class="business-function-title">3. Infrastructure and Platform Security</h2>
                <div class="question">
                    <p>3.3 How do you approach infrastructure-as-code security?</p>
                    <div class="options">
                        <div class="option" data-value="1">No specific IaC security processes</div>
                        <div class="option" data-value="2">Basic manual code reviews</div>
                        <div class="option" data-value="3">Automated policy checks and security scanning</div>
                        <div class="option" data-value="4">Comprehensive security validation with shift-left controls and automated guardrails</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-9">Previous</button>
                    <button id="next-9">Next</button>
                </div>
            </div>
            
            <!-- Business Function 4: Application and Data Protection -->
            <div class="question-section" data-section="10">
                <h2 class="business-function-title">4. Application and Data Protection</h2>
                <div class="question">
                    <p>4.1 How would you describe your Cloud Native application security practices?</p>
                    <div class="options">
                        <div class="option" data-value="1">No Cloud Native specific application security controls</div>
                        <div class="option" data-value="2">Basic application security with some Cloud Native considerations</div>
                        <div class="option" data-value="3">Dedicated Cloud Native application security with automated testing</div>
                        <div class="option" data-value="4">Comprehensive security mesh with automated policy enforcement and real-time monitoring</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-10">Previous</button>
                    <button id="next-10">Next</button>
                </div>
            </div>
            
            <div class="question-section" data-section="11">
                <h2 class="business-function-title">4. Application and Data Protection</h2>
                <div class="question">
                    <p>4.2 How mature is your approach to secure API management?</p>
                    <div class="options">
                        <div class="option" data-value="1">No formal API security strategy</div>
                        <div class="option" data-value="2">Basic API authentication and authorization</div>
                        <div class="option" data-value="3">Comprehensive API gateway with security controls and monitoring</div>
                        <div class="option" data-value="4">Advanced API security with zero-trust model and real-time threat protection</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-11">Previous</button>
                    <button id="next-11">Next</button>
                </div>
            </div>
            
            <div class="question-section" data-section="12">
                <h2 class="business-function-title">4. Application and Data Protection</h2>
                <div class="question">
                    <p>4.3 How do you protect sensitive data in your Cloud Native environment?</p>
                    <div class="options">
                        <div class="option" data-value="1">Basic encryption with limited data protection</div>
                        <div class="option" data-value="2">Standard encryption practices with some data classification</div>
                        <div class="option" data-value="3">Comprehensive data protection strategy with proper key management</div>
                        <div class="option" data-value="4">Advanced data security with zero-trust data access and automated data governance</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-12">Previous</button>
                    <button id="next-12">Next</button>
                </div>
            </div>
            
            <!-- Business Function 5: Identity and Access Governance -->
            <div class="question-section" data-section="13">
                <h2 class="business-function-title">5. Identity and Access Governance</h2>
                <div class="question">
                    <p>5.1 How do you manage identity and access in your Cloud Native environment?</p>
                    <div class="options">
                        <div class="option" data-value="1">Basic identity management without Cloud Native specifics</div>
                        <div class="option" data-value="2">Identity management with some Cloud Native considerations</div>
                        <div class="option" data-value="3">Advanced identity orchestration with automated lifecycle management</div>
                        <div class="option" data-value="4">Zero-trust identity framework with automated verification and continuous monitoring</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-13">Previous</button>
                    <button id="next-13">Next</button>
                </div>
            </div>
            
            <div class="question-section" data-section="14">
                <h2 class="business-function-title">5. Identity and Access Governance</h2>
                <div class="question">
                    <p>5.2 How mature is your privileged access management for Cloud Native resources?</p>
                    <div class="options">
                        <div class="option" data-value="1">Basic privileged access controls with limited oversight</div>
                        <div class="option" data-value="2">Standard privileged access management with manual reviews</div>
                        <div class="option" data-value="3">Comprehensive PAM with just-in-time access and monitoring</div>
                        <div class="option" data-value="4">Advanced PAM with zero standing privileges and continuous verification</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-14">Previous</button>
                    <button id="next-14">Next</button>
                </div>
            </div>
            
            <div class="question-section" data-section="15">
                <h2 class="business-function-title">5. Identity and Access Governance</h2>
                <div class="question">
                    <p>5.3 How do you manage service-to-service authentication in your Cloud Native environment?</p>
                    <div class="options">
                        <div class="option" data-value="1">Static credentials or basic authentication</div>
                        <div class="option" data-value="2">Service accounts with proper rotation policies</div>
                        <div class="option" data-value="3">Dedicated service mesh with mutual TLS and identity-based policies</div>
                        <div class="option" data-value="4">Zero-trust service authentication with advanced workload identity and real-time verification</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-15">Previous</button>
                    <button id="next-15">Next</button>
                </div>
            </div>
            
            <!-- Business Function 6: Runtime Security Operations -->
            <div class="question-section" data-section="16">
                <h2 class="business-function-title">6. Runtime Security Operations</h2>
                <div class="question">
                    <p>6.1 How do you secure container workloads at runtime?</p>
                    <div class="options">
                        <div class="option" data-value="1">No container-specific runtime security</div>
                        <div class="option" data-value="2">Basic container monitoring and vulnerability scanning</div>
                        <div class="option" data-value="3">Advanced runtime protection with behavioral analysis</div>
                        <div class="option" data-value="4">Comprehensive runtime security with automated threat response</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-16">Previous</button>
                    <button id="next-16">Next</button>
                </div>
            </div>
            
            <div class="question-section" data-section="17">
                <h2 class="business-function-title">6. Runtime Security Operations</h2>
                <div class="question">
                    <p>6.2 How do you monitor and manage security events in your Cloud Native environment?</p>
                    <div class="options">
                        <div class="option" data-value="1">Limited or ad-hoc monitoring with manual analysis</div>
                        <div class="option" data-value="2">Basic centralized logging with security alerting</div>
                        <div class="option" data-value="3">Advanced security monitoring with correlation and automated triage</div>
                        <div class="option" data-value="4">Comprehensive observability platform with ML-based detection and automated response</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-17">Previous</button>
                    <button id="next-17">Next</button>
                </div>
            </div>
            
            <div class="question-section" data-section="18">
                <h2 class="business-function-title">6. Runtime Security Operations</h2>
                <div class="question">
                    <p>6.3 How do you enforce security policies at runtime?</p>
                    <div class="options">
                        <div class="option" data-value="1">Limited or no runtime policy enforcement</div>
                        <div class="option" data-value="2">Basic runtime security controls with manual verification</div>
                        <div class="option" data-value="3">Automated policy enforcement with continuous validation</div>
                        <div class="option" data-value="4">Comprehensive policy-driven security with adaptive enforcement and real-time remediation</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-18">Previous</button>
                    <button id="next-18">Next</button>
                </div>
            </div>
            
            <!-- Business Function 7: Threat Detection and Response -->
            <div class="question-section" data-section="19">
                <h2 class="business-function-title">7. Threat Detection and Response</h2>
                <div class="question">
                    <p>7.1 How does your organization detect and respond to threats in Cloud Native environments?</p>
                    <div class="options">
                        <div class="option" data-value="1">No Cloud Native specific threat detection</div>
                        <div class="option" data-value="2">Basic monitoring with manual investigation</div>
                        <div class="option" data-value="3">Advanced threat detection with some automated response</div>
                        <div class="option" data-value="4">Comprehensive threat analytics with ML-based detection and automated response</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-19">Previous</button>
                    <button id="next-19">Next</button>
                </div>
            </div>
            
            <div class="question-section" data-section="20">
                <h2 class="business-function-title">7. Threat Detection and Response</h2>
                <div class="question">
                    <p>7.2 How mature is your Cloud Native incident response capability?</p>
                    <div class="options">
                        <div class="option" data-value="1">No specific Cloud Native incident response procedures</div>
                        <div class="option" data-value="2">Basic incident response processes with limited automation</div>
                        <div class="option" data-value="3">Structured incident response with playbooks and cross-team coordination</div>
                        <div class="option" data-value="4">Advanced incident response with automated containment and detailed forensics capabilities</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-20">Previous</button>
                    <button id="next-20">Next</button>
                </div>
            </div>
            
            <div class="question-section" data-section="21">
                <h2 class="business-function-title">7. Threat Detection and Response</h2>
                <div class="question">
                    <p>7.3 How do you maintain threat intelligence specific to Cloud Native environments?</p>
                    <div class="options">
                        <div class="option" data-value="1">No formal threat intelligence program</div>
                        <div class="option" data-value="2">Basic consumption of general threat feeds</div>
                        <div class="option" data-value="3">Dedicated Cloud Native threat intelligence with regular updates</div>
                        <div class="option" data-value="4">Advanced threat intelligence with custom indicators and automated implementation</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-21">Previous</button>
                    <button id="next-21">Next</button>
                </div>
            </div>
            
            <!-- Business Function 8: Resilience and Service Assurance -->
            <div class="question-section" data-section="22">
                <h2 class="business-function-title">8. Resilience and Service Assurance</h2>
                <div class="question">
                    <p>8.1 How do you ensure reliable and secure software delivery?</p>
                    <div class="options">
                        <div class="option" data-value="1">No formal delivery safety measures</div>
                        <div class="option" data-value="2">Basic deployment checks and rollback capability</div>
                        <div class="option" data-value="3">Advanced deployment controls with automated verification</div>
                        <div class="option" data-value="4">Comprehensive deployment safety with progressive delivery and impact controls</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-22">Previous</button>
                    <button id="next-22">Next</button>
                </div>
            </div>
            
            <div class="question-section" data-section="23">
                <h2 class="business-function-title">8. Resilience and Service Assurance</h2>
                <div class="question">
                    <p>8.2 How mature is your approach to disaster recovery for Cloud Native applications?</p>
                    <div class="options">
                        <div class="option" data-value="1">Limited or no formal DR strategy</div>
                        <div class="option" data-value="2">Basic backup and recovery procedures</div>
                        <div class="option" data-value="3">Comprehensive DR strategy with regular testing</div>
                        <div class="option" data-value="4">Advanced resilience engineering with automated failover and chaos testing</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-23">Previous</button>
                    <button id="next-23">Next</button>
                </div>
            </div>
            
            <div class="question-section" data-section="24">
                <h2 class="business-function-title">8. Resilience and Service Assurance</h2>
                <div class="question">
                    <p>8.3 How do you manage compliance and auditing in your Cloud Native environment?</p>
                    <div class="options">
                        <div class="option" data-value="1">Ad-hoc compliance checks with limited automation</div>
                        <div class="option" data-value="2">Basic compliance monitoring with periodic audits</div>
                        <div class="option" data-value="3">Continuous compliance validation with comprehensive audit trails</div>
                        <div class="option" data-value="4">Automated compliance as code with real-time validation and remediation</div>
                    </div>
                </div>
                <div class="navigation">
                    <button id="prev-24">Previous</button>
                    <button id="submit-assessment">Submit Assessment</button>
                </div>
            </div>
        </div>
        
        <!-- Results Section -->
        <div class="results-card" id="results-container">
            <div class="results-heading">
                <h2>Your CNAMM Quick Assessment Results</h2>
                <p>Based on your responses, here's an overview of your Cloud Native security maturity</p>
            </div>
            
            <div class="score-overview">
                <div class="score-circle">
                    <div class="score-value" id="overall-score">0.0</div>
                    <div class="score-label">Overall Maturity</div>
                </div>
            </div>
            
            <h3>Business Function Breakdown</h3>
            <div class="function-scores" id="function-scores">
                <!-- Will be populated with JavaScript -->
            </div>
            
            <div class="charts-container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 2rem 0;">
                <div style="background-color: var(--card); border-radius: 8px; padding: 1rem; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
                    <h3 style="text-align: center; margin-bottom: 1rem;">Maturity by Business Function</h3>
                    <div style="height: 300px;">
                        <canvas id="barChart"></canvas>
                    </div>
                </div>
                <div style="background-color: var(--card); border-radius: 8px; padding: 1rem; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
                    <h3 style="text-align: center; margin-bottom: 1rem;">Maturity Radar</h3>
                    <div style="height: 300px;">
                        <canvas id="radarChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div style="background-color: var(--card); border-radius: 8px; padding: 1rem; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); margin: 2rem 0;">
                <h3 style="text-align: center; margin-bottom: 1rem;">Maturity Level Distribution</h3>
                <div style="height: 300px; display: flex; justify-content: center;">
                    <canvas id="pieChart" style="max-width: 400px;"></canvas>
                </div>
            </div>
            
            <div class="next-steps">
                <h3>Recommended Next Steps</h3>
                <p id="recommendation-text">Based on your assessment, we recommend focusing on improving your foundational capabilities.</p>
                <p>To get a comprehensive assessment and detailed improvement roadmap:</p>
                <a href="https://github.com/devsecflow/Cloud-Native-Assurance-Maturity-Model/raw/main/release/v1.1/CNAMM%20Assessment%20Toolkit%20v1.1.xlsx" class="cta-button" download>Download Full CNAMM Toolkit</a>
                <a href="../../" class="return-link" style="margin-top: 2rem;">‚Üê Return to CNAMM Home</a>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Variables to track state
            let currentSection = 1;
            const totalSections = 24; // Now 24 questions instead of 8
            const answers = {};
            let businessFunctionScores = {};
            
            // Update progress bar
            function updateProgress() {
                const progressPercent = ((currentSection - 1) / totalSections) * 100;
                document.getElementById('progress-bar').style.width = progressPercent + '%';
            }
            
            // Navigate to next section
            function goToNextSection() {
                // Hide current section
                const currentElement = document.querySelector(`.question-section[data-section="${currentSection}"]`);
                currentElement.classList.remove('active');
                
                // Show next section
                currentSection++;
                const nextElement = document.querySelector(`.question-section[data-section="${currentSection}"]`);
                nextElement.classList.add('active');
                
                // Update progress
                updateProgress();
            }
            
            // Navigate to previous section
            function goToPrevSection() {
                // Hide current section
                const currentElement = document.querySelector(`.question-section[data-section="${currentSection}"]`);
                currentElement.classList.remove('active');
                
                // Show previous section
                currentSection--;
                const prevElement = document.querySelector(`.question-section[data-section="${currentSection}"]`);
                prevElement.classList.add('active');
                
                // Update progress
                updateProgress();
            }
            
            // Option selection
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    // Get parent section
                    const section = this.closest('.question-section');
                    const sectionNumber = parseInt(section.dataset.section);
                    
                    // Deselect all options in this section
                    section.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Select this option
                    this.classList.add('selected');
                    
                    // Store answer
                    answers[sectionNumber] = parseInt(this.dataset.value);
                    
                    // Enable next button if it exists
                    const nextButton = document.getElementById(`next-${sectionNumber}`);
                    if (nextButton) {
                        nextButton.removeAttribute('disabled');
                    }
                    
                    // Enable submit button if it's the last section
                    if (sectionNumber === totalSections) {
                        document.getElementById('submit-assessment').removeAttribute('disabled');
                    }
                });
            });
            
            // Next button handlers
            for (let i = 1; i < totalSections; i++) {
                document.getElementById(`next-${i}`).addEventListener('click', goToNextSection);
            }
            
            // Previous button handlers
            for (let i = 2; i <= totalSections; i++) {
                document.getElementById(`prev-${i}`).addEventListener('click', goToPrevSection);
            }
            
            // Create and render bar chart
            function createBarChart(functionNames, functionScores) {
                const ctx = document.getElementById('barChart').getContext('2d');
                return new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: functionNames,
                        datasets: [{
                            label: 'Maturity Level',
                            data: Object.values(functionScores),
                            backgroundColor: 'rgba(44, 111, 173, 0.7)',
                            borderColor: 'rgba(44, 111, 173, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 4,
                                ticks: {
                                    stepSize: 1
                                }
                            }
                        }
                    }
                });
            }
            
            // Create and render radar chart
            function createRadarChart(functionNames, functionScores) {
                const ctx = document.getElementById('radarChart').getContext('2d');
                return new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: functionNames,
                        datasets: [{
                            label: 'Maturity Level',
                            data: Object.values(functionScores),
                            backgroundColor: 'rgba(44, 111, 173, 0.2)',
                            borderColor: 'rgba(44, 111, 173, 1)',
                            pointBackgroundColor: 'rgba(44, 111, 173, 1)',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                angleLines: {
                                    display: true
                                },
                                min: 0,
                                max: 4,
                                ticks: {
                                    stepSize: 1
                                }
                            }
                        }
                    }
                });
            }
            
            // Create and render pie chart
            function createPieChart(maturityLevels) {
                const ctx = document.getElementById('pieChart').getContext('2d');
                
                // Count frequency of each maturity level
                const maturityCounts = [0, 0, 0, 0]; // For levels 1-4
                for (const level of maturityLevels) {
                    maturityCounts[level - 1]++;
                }
                
                return new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: ['Level 1', 'Level 2', 'Level 3', 'Level 4'],
                        datasets: [{
                            data: maturityCounts,
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.7)',
                                'rgba(255, 159, 64, 0.7)',
                                'rgba(75, 192, 192, 0.7)',
                                'rgba(54, 162, 235, 0.7)'
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(255, 159, 64, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(54, 162, 235, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'right'
                            }
                        }
                    }
                });
            }
            
            // Send anonymous assessment results to server
            function saveAssessmentResults(results) {
                // Add timestamp to results
                results.timestamp = new Date().toISOString();
                
                // Create a simple form data object to submit anonymously
                const formData = new FormData();
                formData.append('assessmentData', JSON.stringify(results));
                
                // Use the Fetch API to send the data to Formspree
                fetch('https://formspree.io/f/mkgjgyvr', {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                }).catch(error => {
                    console.log('Error saving assessment data:', error);
                });
            }
            
            // Submit assessment
            document.getElementById('submit-assessment').addEventListener('click', function() {
                // Map questions to business functions (3 questions per function)
                const businessFunctions = {
                    1: { name: 'Strategy and Risk Governance', questions: [1, 2, 3] },
                    2: { name: 'Supply Chain and Vendor Security', questions: [4, 5, 6] },
                    3: { name: 'Infrastructure and Platform Security', questions: [7, 8, 9] },
                    4: { name: 'Application and Data Protection', questions: [10, 11, 12] },
                    5: { name: 'Identity and Access Governance', questions: [13, 14, 15] },
                    6: { name: 'Runtime Security Operations', questions: [16, 17, 18] },
                    7: { name: 'Threat Detection and Response', questions: [19, 20, 21] },
                    8: { name: 'Resilience and Service Assurance', questions: [22, 23, 24] }
                };
                
                // Calculate business function scores
                const functionScores = {};
                const functionNames = [];
                let totalScore = 0;
                
                // For each business function, calculate average score of its questions
                for (const [functionId, functionInfo] of Object.entries(businessFunctions)) {
                    let functionTotal = 0;
                    let answeredQuestions = 0;
                    
                    for (const questionId of functionInfo.questions) {
                        if (answers[questionId]) {
                            functionTotal += answers[questionId];
                            answeredQuestions++;
                        }
                    }
                    
                    // Calculate average, default to 1 if no questions answered
                    const functionScore = answeredQuestions > 0 
                        ? functionTotal / answeredQuestions 
                        : 1;
                    
                    functionScores[functionId] = Math.round(functionScore * 10) / 10; // Round to 1 decimal place
                    functionNames.push(functionInfo.name);
                    totalScore += functionScore;
                }
                
                // Calculate overall maturity (1-4 scale)
                const overallMaturity = (totalScore / Object.keys(businessFunctions).length).toFixed(1);
                
                // Display overall score
                document.getElementById('overall-score').textContent = overallMaturity;
                
                // Generate function score elements
                const functionScoresContainer = document.getElementById('function-scores');
                functionScoresContainer.innerHTML = '';
                
                for (const [functionId, score] of Object.entries(functionScores)) {
                    const functionName = businessFunctions[functionId].name;
                    const scorePercentage = (score / 4) * 100;
                    
                    const functionElement = document.createElement('div');
                    functionElement.className = 'function-score';
                    functionElement.innerHTML = `
                        <div class="function-name">${functionName}</div>
                        <div class="function-bar">
                            <div class="function-progress" style="width: ${scorePercentage}%"></div>
                        </div>
                        <div class="function-value">${score} / 4</div>
                    `;
                    
                    functionScoresContainer.appendChild(functionElement);
                }
                
                // Set recommendation text based on overall score
                const recommendationText = document.getElementById('recommendation-text');
                if (overallMaturity < 2) {
                    recommendationText.textContent = 'Based on your assessment, we recommend focusing on establishing foundational Cloud Native security controls and developing a formal strategy.';
                } else if (overallMaturity < 3) {
                    recommendationText.textContent = 'Based on your assessment, we recommend standardizing your Cloud Native security practices and implementing more automated controls.';
                } else if (overallMaturity < 3.5) {
                    recommendationText.textContent = 'Based on your assessment, we recommend optimizing your existing security controls and focusing on advanced automation.';
                } else {
                    recommendationText.textContent = 'Based on your assessment, you have a strong Cloud Native security foundation. Focus on innovation and leading-edge practices to stay ahead.';
                }
                
                // Create and render charts
                createBarChart(functionNames, functionScores);
                createRadarChart(functionNames, functionScores);
                
                // Get all maturity levels for the pie chart
                const maturityLevels = Object.values(answers);
                createPieChart(maturityLevels);
                
                // Save anonymous assessment results 
                const assessmentResults = {
                    overallMaturity: parseFloat(overallMaturity),
                    functionScores: functionScores,
                    answers: answers
                };
                saveAssessmentResults(assessmentResults);
                
                // Add data collection acknowledgment
                const dataCollectionNote = document.createElement('p');
                dataCollectionNote.textContent = 'Thank you! Your anonymous assessment data has been collected to help improve the CNAMM framework.';
                dataCollectionNote.style.fontSize = '0.9rem';
                dataCollectionNote.style.color = '#757575';
                dataCollectionNote.style.textAlign = 'center';
                dataCollectionNote.style.marginTop = '1rem';
                document.querySelector('.next-steps').appendChild(dataCollectionNote);
                
                // Hide assessment, show results
                document.getElementById('assessment-container').style.display = 'none';
                document.getElementById('results-container').style.display = 'block';
                document.getElementById('progress-bar').style.width = '100%';
            });
            
            // Initialize progress bar
            updateProgress();
        });
    </script>
</body>
</html>